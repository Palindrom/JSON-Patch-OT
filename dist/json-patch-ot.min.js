var JSONPatchOT=function(){function a(a,c,d){var e=a.substr(c.length),f=e.indexOf("/");f>-1||(f=e.length);var g=e.substr(0,f),h=e.substr(f);return b(g)&&g>d?c+(g-1)+h:a}function b(a){var b=~~Number(a);return String(b)===a&&b>=0}var c=c||{};c.transform=function(a,b){var c=[];c=c.concat.apply(c,b);var e=JSON.parse(JSON.stringify(a));return c.reduce(d,e)},c.transformAgainstSingleOp=function(a,b){};var d=function(a,b){if(void 0===b.value&&("add"===b.op||"replace"===b.op||"test"===b.op))throw new Error("'value' MUST be defined");if(void 0===b.from&&("copy"===b.op||"move"===b.op))throw new Error("'from' MUST be defined");if(e[b.op])if("function"==typeof e[b.op])e[b.op](b,a);else for(var c=a.length,d=0;d<c;){var f=a[d];d++,e[b.op][f.op]&&e[b.op][f.op](b,f)}return a},e={remove:function(c,d){for(var e,f=d.length,g=0;e=d[g];)("add"!==e.op&&"test"!==e.op||c.path!==e.path)&&(e.from&&(e.from===c.path||0===e.from.indexOf(c.path+"/"))||c.path===e.path||0===e.path.indexOf(c.path+"/"))&&(d.splice(g,1),f--,g--),g++;var h=c.path.lastIndexOf("/");if(h>-1){var i=c.path.substr(h+1),j=c.path.substr(0,h+1);if(b(i))for(f=d.length,g=0;g<f;)e=d[g],g++,0===e.path.indexOf(j)&&(e.path=a(e.path,j,i)),e.from&&0===e.from.indexOf(j)&&(e.from=a(e.from,j,i))}},replace:function(a,b){for(var c,d=0;c=b[d];)(c.from&&(c.from===a.path||0===c.from.indexOf(a.path+"/"))||0===c.path.indexOf(a.path+"/"))&&(b.splice(d,1),d--),d++}};return c}();"undefined"!=typeof module&&(module.exports=JSONPatchOT,module.exports.default=JSONPatchOT,module.exports.__esModule=!0);
//# sourceMappingURL=json-patch-ot.min.js.map